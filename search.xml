<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å¸¸ç”¨Markdownè¯­æ³•</title>
    <url>/2020/05/29/%E5%B8%B8%E7%94%A8Markdown%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<p>è¿™ç¯‡ä¸»è¦æ¥è®°å½•æˆ‘åˆæ­¥å»ºç«‹ markdown æ–‡ç« ä¸€äº›åŸºæœ¬æ“ä½œã€‚</p>
<h2 id="æ–°å»ºpage"><a href="#æ–°å»ºpage" class="headerlink" title="æ–°å»ºpage"></a>æ–°å»ºpage</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page-name</span><br></pre></td></tr></table></figure>


<h3 id="ä¸€ã€æ ‡é¢˜"><a href="#ä¸€ã€æ ‡é¢˜" class="headerlink" title="ä¸€ã€æ ‡é¢˜"></a>ä¸€ã€æ ‡é¢˜</h3><p>ä¸€çº§æ ‡é¢˜å‰é¢ä¸€ä¸ª#ï¼ŒäºŒçº§æ ‡é¢˜å‰é¢ä¸¤ä¸ª#ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæ€»å…±åˆ°å…­çº§æ ‡é¢˜ï¼Œ#ä¸æ–‡å­—ä¹‹é—´ä¸€å®šè¦æœ‰ç©ºæ ¼ã€‚</p>
<h3 id="äºŒã€ä»£ç å—"><a href="#äºŒã€ä»£ç å—" class="headerlink" title="äºŒã€ä»£ç å—"></a>äºŒã€ä»£ç å—</h3><p>ç”¨å‰å ä¸‰ä¸ª` åŒ…è£¹ç€, ```åé¢å†™ä»€ä¹ˆè¯­è¨€å³å±•ç¤ºæ€æ ·çš„é«˜äº®æ ·å¼ï¼Œä¾‹å¦‚ï¼šhtmlã€javascript</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="è¡Œå†…ä»£ç "><a href="#è¡Œå†…ä»£ç " class="headerlink" title="è¡Œå†…ä»£ç "></a>è¡Œå†…ä»£ç </h4><p>å‰åä¸€ä¸ª ` åŒ…è£¹ï¼Œä¾‹ï¼š</p>
<p><code>è¡Œå†…ä»£ç </code></p>
<h3 id="ä¸‰ã€å¼•ç”¨"><a href="#ä¸‰ã€å¼•ç”¨" class="headerlink" title="ä¸‰ã€å¼•ç”¨"></a>ä¸‰ã€å¼•ç”¨</h3><p>ä½¿ç”¨ &gt; è¡¨ç¤ºå¼•ç”¨ï¼Œ &gt;&gt; è¡¨ç¤ºå¼•ç”¨é‡Œé¢å†å¥—ä¸€å±‚å¼•ç”¨ï¼Œä¾æ¬¡ç±»æ¨ã€‚</p>
<blockquote>
<p>â€˜&gt;â€™è¿™æ˜¯ä¸€çº§å¼•ç”¨</p>
<blockquote>
<p>â€˜&gt;&gt;â€™è¿™æ˜¯äºŒçº§å¼•ç”¨</p>
<blockquote>
<p>â€˜&gt;&gt;&gt;â€™è¿™æ˜¯ä¸‰çº§å¼•ç”¨</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="å››ã€é“¾æ¥"><a href="#å››ã€é“¾æ¥" class="headerlink" title="å››ã€é“¾æ¥"></a>å››ã€é“¾æ¥</h3><p>ä½¿ç”¨ â€œ <a href="link"> </a> â€ è¡¨ç¤ºè¡Œå†…é“¾æ¥ã€‚å…¶ä¸­ï¼š</p>
<p>[] å†…çš„å†…å®¹ä¸ºè¦æ·»åŠ é“¾æ¥çš„æ–‡å­—ã€‚</p>
<p>link ä¸ºé“¾æ¥åœ°å€ã€‚ä¾‹å¦‚ï¼š<a href="https://www.baidu.com" target="_blank" rel="noopener">ç™¾åº¦</a></p>
<blockquote>
<p><a href="https://www.baidu.com" target="_blank" rel="noopener">ç™¾åº¦</a></p>
</blockquote>
<h3 id="äº”ã€å¯¼å…¥å›¾ç‰‡"><a href="#äº”ã€å¯¼å…¥å›¾ç‰‡" class="headerlink" title="äº”ã€å¯¼å…¥å›¾ç‰‡"></a>äº”ã€å¯¼å…¥å›¾ç‰‡</h3><p>ä½¿ç”¨ â€œ ![Alt text] (png) â€ å¯¼å…¥å›¾ç‰‡ã€‚å…¶ä¸­ï¼š</p>
<p>Alt text ä¸ºå¦‚æœå›¾ç‰‡æ— æ³•æ˜¾ç¤ºæ—¶æ˜¾ç¤ºçš„æ–‡å­—ï¼›<br>png ä¸ºå›¾ç‰‡æ‰€åœ¨è·¯å¾„ï¼›<br>æœ¬åœ°å¼•ç”¨æ˜¯å›¾ç‰‡ç›´æ¥å­˜å‚¨åˆ°æœ¬åœ°é€šè¿‡ç›¸å¯¹è·¯å¾„å¼•ç”¨ï¼Œæ— éœ€ç½‘ç»œè¿æ¥<br>ä¸Šä¼ å›¾ç‰‡å°†æŠŠå›¾ç‰‡ä¸Šä¼ è‡³å›¾åºŠï¼Œè¿™æ ·åœ¨æ–‡æ¡£æˆ–å›¾ç‰‡ç§»åŠ¨æ—¶è®¤å¯è®¿é—®å›¾ç‰‡<br>ç¤ºä¾‹ï¼š<br><img src="https://fech.in/static/images/cover/ml01-overview.jpeg" alt="å›¾ç‰‡æ— æ³•æ˜¾ç¤ºæ—¶æ˜¾ç¤ºçš„æ–‡å­—"></p>
<h3 id="å…­ã€Todo-List"><a href="#å…­ã€Todo-List" class="headerlink" title="å…­ã€Todo List"></a>å…­ã€Todo List</h3><p>å°å†™ x è¡¨ç¤ºå·²å®Œæˆï¼Œ ç©ºæ ¼è¡¨ç¤ºæœªå®Œæˆ</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> é€‰ä¸­</li>
<li><input disabled="" type="checkbox"> æœªé€‰ä¸­<br>æ–¹æ³•ï¼š<blockquote>
<p>-ä¸[]ä¹‹é—´é¡»æœ‰ç©ºæ ¼ -[x] ä¾‹ 1 -[ ] ä¾‹ 2</p>
</blockquote>
</li>
</ul>
<h3 id="ä¸ƒã€ç²—ä½“ï¼Œæ–œä½“ï¼Œé«˜äº®å’Œåˆ é™¤çº¿"><a href="#ä¸ƒã€ç²—ä½“ï¼Œæ–œä½“ï¼Œé«˜äº®å’Œåˆ é™¤çº¿" class="headerlink" title="ä¸ƒã€ç²—ä½“ï¼Œæ–œä½“ï¼Œé«˜äº®å’Œåˆ é™¤çº¿"></a>ä¸ƒã€ç²—ä½“ï¼Œæ–œä½“ï¼Œé«˜äº®å’Œåˆ é™¤çº¿</h3><p>ä¾‹å¦‚<strong>ç²—ä½“</strong></p>
<blockquote>
<p>** ç²—ä½“ç¤ºä¾‹ **</p>
</blockquote>
<p><em>æ–œä½“</em></p>
<blockquote>
<p>*æ–œä½“ *</p>
</blockquote>
<p><strong><em>ç²—åŠ æ–œä½“</em></strong></p>
<blockquote>
<p><strong>* ç²—åŠ æ–œä½“ *</strong></p>
</blockquote>
<blockquote>
<p>==é«˜äº®==<br>éƒ¨åˆ†ç¼–è¾‘å™¨ä¸æ”¯æŒé«˜äº®</p>
</blockquote>
<p><del>åˆ é™¤çº¿</del></p>
<blockquote>
<p><del>~ åˆ é™¤çº¿ ~</del></p>
</blockquote>
<h3 id="å…«ã€åˆ—è¡¨"><a href="#å…«ã€åˆ—è¡¨" class="headerlink" title="å…«ã€åˆ—è¡¨"></a>å…«ã€åˆ—è¡¨</h3><p>ä½¿ç”¨ 1. 1. 1. è¡¨ç¤ºæœ‰åºåˆ—è¡¨ï¼Œä½¿ç”¨ * æˆ– - æˆ– + è¡¨ç¤ºæ— åºåˆ—è¡¨ã€‚</p>
<ol>
<li>åˆ—è¡¨ä¸€</li>
<li>åˆ—è¡¨äºŒ</li>
<li>åˆ—è¡¨ä¸‰</li>
</ol>
<blockquote>
<p>1.åˆ—è¡¨ä¸€ 1.åˆ—è¡¨äºŒ 1.åˆ—è¡¨ä¸‰<br>è®°å¾— 1. ä¸åˆ—è¡¨æ–‡å­—ä¹‹é—´éœ€è¦æœ‰ç©ºæ ¼</p>
</blockquote>
<ul>
<li>1 åˆ—è¡¨ä¸€<ul>
<li>2 åˆ—è¡¨äºŒ</li>
</ul>
</li>
</ul>
<blockquote>
<p>*1 åˆ—è¡¨ä¸€<br>*2 åˆ—è¡¨äºŒ<br>äºŒçº§åˆ—è¡¨éœ€è¦ç¼©è¿›ä¸€ä¸ªå­—ç¬¦</p>
</blockquote>
<h3 id="ä¹ã€åˆ†å‰²çº¿"><a href="#ä¹ã€åˆ†å‰²çº¿" class="headerlink" title="ä¹ã€åˆ†å‰²çº¿"></a>ä¹ã€åˆ†å‰²çº¿</h3><p>åˆ†å‰²çº¿ï¼šâ€” æˆ–è€…*** è‡ªåŠ¨å‡ºæ¥åˆ†å‰²çº¿</p>
<hr>
<h3 id="åã€emoji"><a href="#åã€emoji" class="headerlink" title="åã€emoji"></a>åã€emoji</h3><p>ä½¿ç”¨ :emojiä»£ç : åœ¨ markdown é‡Œæ·»åŠ  emoji ğŸ˜²</p>
<p><a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„ emoji ä»£ç </a></p>
<p>â— éƒ¨åˆ†ç¼–è¾‘å™¨ä¸æ”¯æŒ emoji code </p>
<p>å»ºè®®ç›´æ¥è¾“å…¥ emojiï¼Œ<a href="https://www.emojidaquan.com" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å¹¶å¤åˆ¶ emoji</a></p>
]]></content>
      <categories>
        <category>åŸºç¡€</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>vue-cli4æ€§èƒ½ä¼˜åŒ–</title>
    <url>/2020/06/17/vue-cli4%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h3 id="Gzipå‹ç¼©"><a href="#Gzipå‹ç¼©" class="headerlink" title="Gzipå‹ç¼©"></a><strong>Gzipå‹ç¼©</strong></h3><p>gizp å‹ç¼©æ˜¯ä¸€ç§ http è¯·æ±‚ä¼˜åŒ–æ–¹å¼ï¼Œé€šè¿‡å‡å°‘æ–‡ä»¶ä½“ç§¯æ¥æé«˜åŠ è½½é€Ÿåº¦ï¼Œå¯¹äºç”¨æˆ·é‡å¤šçš„ç½‘ç«™ï¼Œå¼€å¯ gizp å‹ç¼©ä¼šå¤§å¤§é™ä½æœåŠ¡å™¨å‹åŠ›ï¼Œæé«˜åŠ è½½é€Ÿåº¦ï¼Œé™ä½æœåŠ¡å™¨æµé‡æˆæœ¬</p>
<p><strong>å‹ç¼©å®Œæˆç¤ºä¾‹</strong></p>
<p><img src="https://s1.ax1x.com/2020/06/17/NEaSSS.png" alt="NEaSSS.png"></p>
<blockquote>
<p>å®‰è£…æ’ä»¶</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm install compression-webpack-plugin --save-de</span><br></pre></td></tr></table></figure>


<blockquote>
<p>åœ¨vue.config.jsä¸­é…ç½®</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥compression-webpack-plugin</span></span><br><span class="line"><span class="keyword">const</span> CompressionWebpackPlugin = <span class="built_in">require</span>(<span class="string">"compression-webpack-plugin"</span>);</span><br><span class="line"><span class="comment">// å®šä¹‰å‹ç¼©æ–‡ä»¶ç±»å‹</span></span><br><span class="line"><span class="keyword">const</span> productionGzipExtensions = [<span class="string">"js"</span>, <span class="string">"css"</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">//ç»Ÿä¸€é…ç½®æ‰“åŒ…æ’ä»¶</span></span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">      <span class="keyword">new</span> CompressionWebpackPlugin(&#123;</span><br><span class="line">        filename: <span class="string">"[path].gz[query]"</span>,</span><br><span class="line">        algorithm: <span class="string">"gzip"</span>,</span><br><span class="line">        test: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\.("</span> + productionGzipExtensions.join(<span class="string">"|"</span>) + <span class="string">")$"</span>), <span class="comment">//åŒ¹é…æ–‡ä»¶å</span></span><br><span class="line">        threshold: <span class="number">10240</span>, <span class="comment">//å¯¹10Kä»¥ä¸Šçš„æ•°æ®è¿›è¡Œå‹ç¼©</span></span><br><span class="line">        minRatio: <span class="number">0.8</span>,</span><br><span class="line">        deleteOriginalAssets: <span class="literal">false</span>, <span class="comment">//æ˜¯å¦åˆ é™¤æºæ–‡ä»¶</span></span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨æœåŠ¡å™¨çš„ nginxçš„httpä¸­é…ç½® Gzip</p>
</blockquote>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">gzip on; #å¼€å¯æˆ–å…³é—­gzip on off</span><br><span class="line">gzip_min_length 5k; #gzipå‹ç¼©æœ€å°æ–‡ä»¶å¤§å°ï¼Œè¶…å‡ºè¿›è¡Œå‹ç¼©ï¼ˆè‡ªè¡Œè°ƒèŠ‚ï¼‰</span><br><span class="line">gzip_buffers 4 16k; #buffer ä¸ç”¨ä¿®æ”¹</span><br><span class="line">gzip_comp_level 4; #å‹ç¼©çº§åˆ«:1-10ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½ï¼Œæ—¶é—´ä¹Ÿè¶Šé•¿</span><br><span class="line">gzip_types text/plain application/x-javascript application/javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png; #  å‹ç¼©æ–‡ä»¶ç±»å‹</span><br><span class="line">gzip_vary on; # å’Œhttpå¤´æœ‰å…³ç³»ï¼ŒåŠ ä¸ªvaryå¤´ï¼Œç»™ä»£ç†æœåŠ¡å™¨ç”¨çš„ï¼Œæœ‰çš„æµè§ˆå™¨æ”¯æŒå‹ç¼©ï¼Œæœ‰çš„ä¸æ”¯æŒï¼Œæ‰€ä»¥é¿å…æµªè´¹ä¸æ”¯æŒçš„ä¹Ÿå‹ç¼©ï¼Œæ‰€ä»¥æ ¹æ®å®¢æˆ·ç«¯çš„HTTPå¤´æ¥åˆ¤æ–­ï¼Œæ˜¯å¦éœ€è¦å‹ç¼©</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¿®æ”¹åè®°å¾—æ‰§è¡Œ nginx -s reload</p>
</blockquote>
<h3 id="å»æ‰æ‰“åŒ…åçš„-console"><a href="#å»æ‰æ‰“åŒ…åçš„-console" class="headerlink" title="å»æ‰æ‰“åŒ…åçš„ console"></a><strong>å»æ‰æ‰“åŒ…åçš„ console</strong></h3><blockquote>
<p>å®‰è£æ’ä»¶</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm install babel-plugin-transform-remove-<span class="built_in">console</span> --save-dev</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ã€babel.config.jsã€‘é…ç½®å¦‚ä¸‹</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> plugins = [<span class="string">"@vue/babel-plugin-transform-vue-jsx"</span>];</span><br><span class="line"><span class="comment">// ç”Ÿäº§ç¯å¢ƒç§»é™¤console</span></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">"production"</span>) &#123;</span><br><span class="line">  plugins.push(<span class="string">"transform-remove-console"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: plugins,</span><br><span class="line">  presets: [<span class="string">"@vue/cli-plugin-babel/preset"</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰“åŒ…éƒ¨ç½²åï¼Œç”Ÿäº§ç¯å¢ƒçš„ console å°±å…¨éƒ¨å»æ‰äº†~</p>
</blockquote>
<h3 id="å›¾ç‰‡æ‡’åŠ è½½"><a href="#å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="å›¾ç‰‡æ‡’åŠ è½½"></a><strong>å›¾ç‰‡æ‡’åŠ è½½</strong></h3><blockquote>
<p>å®‰è£…ä¾èµ–</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm i vue-lazyload -S</span><br></pre></td></tr></table></figure>

<blockquote>
<p>main.js ä¸­ç›´æ¥å¼•ç”¨</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> VueLazyload <span class="keyword">from</span> <span class="string">"vue-lazyload"</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(VueLazyload);</span><br><span class="line"></span><br><span class="line"><span class="comment">// or with options</span></span><br><span class="line">Vue.use(VueLazyload, &#123;</span><br><span class="line">  <span class="comment">//é¢„åŠ è½½é«˜åº¦</span></span><br><span class="line">  preLoad: <span class="number">1.3</span>,</span><br><span class="line">  <span class="comment">//é”™è¯¯æ—¶æ˜¾ç¤ºçš„å›¾ç‰‡</span></span><br><span class="line">  error: <span class="string">"static/about111.jpg"</span>,</span><br><span class="line">  <span class="comment">//å›¾ç‰‡åŠ è½½ä¸­æ˜¾ç¤ºçš„å›¾ç‰‡</span></span><br><span class="line">  loading: <span class="string">"static/img/loading.gif"</span>,</span><br><span class="line">  <span class="comment">//å°è¯•åŠ è½½æ¬¡æ•°</span></span><br><span class="line">  attempt: <span class="number">1</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ—¶ï¼Œå°† img æ ‡ç­¾çš„ src æ¢æˆ v-lazyï¼š</p>
</blockquote>
<ol>
<li>æœªä½¿ç”¨æ‡’åŠ è½½å‰çš„ä»£ç ï¼š<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;li&gt;&lt;img class&#x3D;&quot;g-img1&quot; src&#x3D;&quot;static&#x2F;1.jpg&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;&lt;&#x2F;li&gt;</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨æ‡’åŠ è½½åçš„ä»£ç ï¼š<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;li&gt;&lt;img class&#x3D;&quot;g-img1&quot; v-lazy&#x3D;&quot;&#39;static&#x2F;1.jpg&#39;&quot; alt&#x3D;&quot;&quot; &#x2F;&gt;&lt;&#x2F;li&gt;</span><br></pre></td></tr></table></figure>


</li>
</ol>
]]></content>
      <categories>
        <category>vueå·¥å…·</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>wxæ”¯ä»˜åˆ†äº«</title>
    <url>/2020/06/17/wx%E6%94%AF%E4%BB%98%E5%88%86%E4%BA%AB/</url>
    <content><![CDATA[<h3 id="wxæ”¯ä»˜"><a href="#wxæ”¯ä»˜" class="headerlink" title="wxæ”¯ä»˜"></a><strong>wxæ”¯ä»˜</strong></h3><blockquote>
<p>è¯·æ±‚åå°æ¥å£è·å–wxéœ€è¦æ•°æ®</p>
</blockquote>
<p>å°†è¯·æ±‚æ¥å£å¾—æ¥çš„æ•°æ®å­˜åˆ°å…¨å±€å˜é‡é‡Œé¢ payData ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Ajax(<span class="string">'post'</span>, <span class="string">'/api'</span>, obj).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> data = res.data;</span><br><span class="line">      <span class="keyword">this</span>.payData = data;</span><br><span class="line">       <span class="comment">//wxåˆ¤æ–­æ”¯ä»˜ç¯å¢ƒæ˜¯å¦å¯ç”¨ï¼Œè‹¥ç¯å¢ƒå‡†å¤‡å¥½æ¥ç€è°ƒç”¨ onBridgeReady()æ–¹æ³•                </span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> WeixinJSBridge == <span class="string">"undefined"</span>)&#123;</span><br><span class="line">             <span class="keyword">if</span>( <span class="built_in">document</span>.addEventListener )&#123;</span><br><span class="line">              <span class="built_in">document</span>.addEventListener(<span class="string">'WeixinJSBridgeReady'</span>, onBridgeReady, <span class="literal">false</span>);</span><br><span class="line">             &#125;<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.attachEvent)&#123;</span><br><span class="line">              <span class="built_in">document</span>.attachEvent(<span class="string">'WeixinJSBridgeReady'</span>, onBridgeReady);</span><br><span class="line">              <span class="built_in">document</span>.attachEvent(<span class="string">'onWeixinJSBridgeReady'</span>, onBridgeReady);</span><br><span class="line">              &#125;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">this</span>.onBridgeReady();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">     alert(e)</span><br><span class="line">     <span class="keyword">this</span>.canSubmit=<span class="literal">true</span>;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å°†åå°è¿”å›çš„å‚æ•°ä¼ åˆ°wx</p>
</blockquote>
<p>  è°ƒç”¨wxæ”¯ä»˜æ–¹æ³•ï¼Œå°†ä¸Šé¢è¯·æ±‚åå°æ¥å£è¿”å›çš„å‚æ•°ä¼ ç»™wx ã€‚åœ¨ç”¨æˆ·æ”¯ä»˜æˆåŠŸåè¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</p>
  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¾®ä¿¡æ”¯ä»˜</span></span><br><span class="line">          onBridgeReady() &#123;</span><br><span class="line">              <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">              WeixinJSBridge.invoke(</span><br><span class="line">                  <span class="string">'getBrandWCPayRequest'</span>, &#123;</span><br><span class="line">                      <span class="string">"appId"</span>: <span class="keyword">this</span>.payData.appId,     <span class="comment">//å…¬ä¼—å·åç§°ï¼Œç”±å•†æˆ·ä¼ å…¥</span></span><br><span class="line">                      <span class="string">"timeStamp"</span>: <span class="keyword">this</span>.payData.timeStamp,         <span class="comment">//æ—¶é—´æˆ³ï¼Œè‡ª1970å¹´ä»¥æ¥çš„ç§’æ•°</span></span><br><span class="line">                      <span class="string">"nonceStr"</span>: <span class="keyword">this</span>.payData.nonceStr, <span class="comment">//éšæœºä¸²</span></span><br><span class="line">                      <span class="string">"package"</span>: <span class="keyword">this</span>.payData.package,</span><br><span class="line">                      <span class="string">"signType"</span>: <span class="keyword">this</span>.payData.signType,         <span class="comment">//å¾®ä¿¡ç­¾åæ–¹å¼ï¼š</span></span><br><span class="line">                      <span class="string">"paySign"</span>: <span class="keyword">this</span>.payData.paySign <span class="comment">//å¾®ä¿¡ç­¾å</span></span><br><span class="line">                  &#125;,</span><br><span class="line">                  <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                      <span class="keyword">if</span> (res.err_msg == <span class="string">"get_brand_wcpay_request:ok"</span>) &#123;</span><br><span class="line">                          <span class="comment">//æ”¯ä»˜æˆåŠŸ</span></span><br><span class="line">                          <span class="built_in">window</span>.location.href=<span class="string">"/activity"</span>;</span><br><span class="line">                          </span><br><span class="line">                      &#125;<span class="keyword">else</span> <span class="keyword">if</span> (res.err_msg == <span class="string">"get_brand_wcpay_request:fail"</span>) &#123;</span><br><span class="line">                          <span class="comment">// ä½¿ç”¨ä»¥ä¸Šæ–¹å¼åˆ¤æ–­å‰ç«¯è¿”å›,å¾®ä¿¡å›¢é˜Ÿéƒ‘é‡æç¤ºï¼š</span></span><br><span class="line">                          <span class="comment">//res.err_msgå°†åœ¨ç”¨æˆ·æ”¯ä»˜æˆåŠŸåè¿”å›okï¼Œä½†å¹¶ä¸ä¿è¯å®ƒç»å¯¹å¯é ã€‚</span></span><br><span class="line">                          alert(res.err_msg);</span><br><span class="line">                      &#125;</span><br><span class="line">                  &#125;);</span><br><span class="line">          &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="wxåˆ†äº«"><a href="#wxåˆ†äº«" class="headerlink" title="wxåˆ†äº«"></a><strong>wxåˆ†äº«</strong></h3><blockquote>
<p>jqueryå¼•å…¥æ ‡ç­¾</p>
</blockquote>
<p>è¿˜éœ€è¦å¼•å…¥  jweixin-1.4.0.js  æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶åœ¨Eç›˜â€œå¼•ç”¨çš„æ–‡ä»¶â€jsæ–‡ä»¶ä¸­ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¾®ä¿¡åˆ†äº«--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/jweixin-1.4.0.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>


<blockquote>
<p>vueåœ¨main.jsä¸­å¼•å…¥</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥å¾®ä¿¡åˆ†äº«</span></span><br><span class="line"><span class="keyword">import</span> wx <span class="keyword">from</span> <span class="string">"weixin-js-sdk"</span>;</span><br><span class="line">Vue.use(wx);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨h5.jsé‡Œé¢è¿›è¡Œå°è£…</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥å¾®ä¿¡åˆ†äº«</span></span><br><span class="line"><span class="keyword">import</span> wx <span class="keyword">from</span> <span class="string">"weixin-js-sdk"</span>;</span><br><span class="line"><span class="comment">//å¾®ä¿¡åˆ†äº«</span></span><br><span class="line"><span class="keyword">let</span> wxShareIntval;</span><br><span class="line"><span class="keyword">let</span> wxShareIntvalIndex=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> iosEdition = navigator.userAgent;</span><br><span class="line"><span class="keyword">let</span> isIphone = !!iosEdition.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¦æ­¢å¾®ä¿¡åˆ†äº«</span></span><br><span class="line">    prohibitShare() &#123;</span><br><span class="line">        <span class="comment">// ç¦æ­¢åˆ†äº«</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> WeixinJSBridge == <span class="string">"undefined"</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">document</span>.addEventListener) &#123;</span><br><span class="line">                    <span class="built_in">document</span>.addEventListener(<span class="string">'WeixinJSBridgeReady'</span>, <span class="keyword">this</span>.onBridgeReady(), <span class="literal">false</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.attachEvent) &#123;</span><br><span class="line">                    <span class="built_in">document</span>.attachEvent(<span class="string">'WeixinJSBridgeReady'</span>, <span class="keyword">this</span>.onBridgeReady());</span><br><span class="line">                    <span class="built_in">document</span>.attachEvent(<span class="string">'onWeixinJSBridgeReady'</span>, <span class="keyword">this</span>.onBridgeReady());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.onBridgeReady();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(e)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–æ—¶å±è”½åˆ†äº«æŒ‰é’®é˜²æ­¢ç‚¹å‡»</span></span><br><span class="line">    onBridgeReady() &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            WeixinJSBridge.call(<span class="string">'hideOptionMenu'</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//å®šæ—¶å™¨ï¼Œè¯·æ±‚å®Œæ•°æ®ä¹‹åæ‰å¯ä»¥è¿›è¡Œwxåˆ†äº«</span></span><br><span class="line">    shareTimer(shareObj) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(process.env.NODE_ENV);</span><br><span class="line">        <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">"development"</span> || !Vue.prototype.isWechat) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// wxShareIntval = setInterval(() =&gt; &#123;</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">document</span>.readyState == <span class="string">"complete"</span>) &#123; <span class="comment">//å½“é¡µé¢åŠ è½½çŠ¶æ€ä¸ºå®Œå…¨ç»“æŸæ—¶è¿›å…¥</span></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">typeof</span> WeixinJSBridge == <span class="string">"undefined"</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (<span class="built_in">document</span>.addEventListener) &#123;</span><br><span class="line">                            <span class="built_in">document</span>.addEventListener(<span class="string">'WeixinJSBridgeReady'</span>, <span class="keyword">this</span>.getWxShare(shareObj), <span class="literal">false</span>);</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">document</span>.attachEvent) &#123;</span><br><span class="line">                            <span class="built_in">document</span>.attachEvent(<span class="string">'WeixinJSBridgeReady'</span>, <span class="keyword">this</span>.getWxShare(shareObj));</span><br><span class="line">                            <span class="built_in">document</span>.attachEvent(<span class="string">'onWeixinJSBridgeReady'</span>, <span class="keyword">this</span>.getWxShare(shareObj));</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">//å¾®ä¿¡åˆ†äº«é…ç½®</span></span><br><span class="line">                        <span class="keyword">this</span>.getWxShare(shareObj);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// wxShareIntvalIndex++;</span></span><br><span class="line">            <span class="comment">// if (wxShareIntvalIndex &gt; 10) &#123;</span></span><br><span class="line">            <span class="comment">//     clearInterval(wxShareIntval);</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// &#125;, 500)</span></span><br><span class="line">    &#125;,</span><br><span class="line">    getWxShare(shareObj) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> href = location.href.split(<span class="string">'#'</span>)[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (!isIphone) &#123;</span><br><span class="line">                href = location.href.split(<span class="string">'#'</span>)[<span class="number">0</span>].split(<span class="string">'?from'</span>)[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> obj = &#123;</span><br><span class="line">                url: href</span><br><span class="line">            &#125;</span><br><span class="line">            Vue.prototype.$http.get(<span class="string">'/api/user/wx/share'</span>, obj,<span class="string">'hideLoad'</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> data = res.data;</span><br><span class="line">                setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.wxShare(data, shareObj);</span><br><span class="line">                &#125;, <span class="number">500</span>)</span><br><span class="line">            &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    wxShare(data, shareObj) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            wx.config(&#123;</span><br><span class="line">                debug: <span class="literal">false</span>,</span><br><span class="line">                appId: data.data.appId, <span class="comment">// å’Œè·å–Tickeçš„å¿…é¡»ä¸€æ ·------å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†</span></span><br><span class="line">                timestamp: data.data.timestamp, <span class="comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³</span></span><br><span class="line">                nonceStr: data.data.nonceStr, <span class="comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²</span></span><br><span class="line">                signature: data.data.signature, <span class="comment">// å¿…å¡«ï¼Œç­¾åï¼Œè§é™„å½•1</span></span><br><span class="line">                <span class="comment">//éœ€è¦åˆ†äº«çš„åˆ—è¡¨é¡¹:å‘é€ç»™æœ‹å‹ï¼Œåˆ†äº«åˆ°æœ‹å‹åœˆ</span></span><br><span class="line">                jsApiList: [<span class="string">"updateTimelineShareData"</span>, <span class="string">"updateAppMessageShareData"</span>, <span class="string">"onMenuShareTimeline"</span>, <span class="string">"onMenuShareAppMessage"</span>, <span class="string">'checkJsApi'</span>, <span class="string">'openLocation'</span>, <span class="string">'getLocation'</span>]</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">//å¤„ç†éªŒè¯å¤±è´¥çš„ä¿¡æ¯</span></span><br><span class="line">            wx.error(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// alert(JSON.stringify(res));</span></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// // //å¾®ä¿¡åˆ†äº«é…ç½®</span></span><br><span class="line">            <span class="comment">// if (isIphone) &#123;</span></span><br><span class="line">            <span class="comment">//     shareObj.share_url = encodeURI(shareObj.share_url)</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            <span class="comment">//å¾®ä¿¡åˆ†äº«é…ç½®</span></span><br><span class="line">            history.replaceState(&#123;&#125;, shareObj.share_title, shareObj.share_url);</span><br><span class="line">            shareObj.share_url = <span class="built_in">window</span>.location.href;</span><br><span class="line">            wx.ready(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                WeixinJSBridge.call(<span class="string">'showOptionMenu'</span>);</span><br><span class="line">                clearInterval(wxShareIntval);</span><br><span class="line">                <span class="keyword">if</span> (isIphone) &#123;</span><br><span class="line">                    <span class="comment">//åˆ†äº«åˆ°æœ‹å‹åœˆ</span></span><br><span class="line">                    wx.updateTimelineShareData(&#123;</span><br><span class="line">                        title: shareObj.share_title, <span class="comment">// åˆ†äº«æ ‡é¢˜</span></span><br><span class="line">                        desc: shareObj.share_des, <span class="comment">// åˆ†äº«æè¿°</span></span><br><span class="line">                        link: shareObj.share_url, <span class="comment">// åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´</span></span><br><span class="line">                        imgUrl: shareObj.share_img, <span class="comment">// åˆ†äº«å›¾æ ‡</span></span><br><span class="line">                        success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment">//                            showTips("æˆåŠŸåˆ†äº«æœ‹å‹åœˆ")</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        cancel: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">                            <span class="comment">// showTips("å–æ¶ˆåˆ†äº«åˆ°æœ‹å‹åœˆè¿”å›:" + res);</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                    <span class="comment">//åˆ†äº«ç»™æœ‹å‹</span></span><br><span class="line">                    wx.updateAppMessageShareData(&#123;</span><br><span class="line">                        title: shareObj.share_title, <span class="comment">// åˆ†äº«æ ‡é¢˜</span></span><br><span class="line">                        desc: shareObj.share_des, <span class="comment">// åˆ†äº«æè¿°</span></span><br><span class="line">                        link: shareObj.share_url, <span class="comment">// åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´</span></span><br><span class="line">                        imgUrl: shareObj.share_img, <span class="comment">// åˆ†äº«å›¾æ ‡</span></span><br><span class="line">                        type: <span class="string">""</span>, <span class="comment">// åˆ†äº«ç±»å‹,musicã€videoæˆ–linkï¼Œä¸å¡«é»˜è®¤ä¸ºlink</span></span><br><span class="line">                        dataUrl: <span class="string">""</span>, <span class="comment">// å¦‚æœtypeæ˜¯musicæˆ–videoï¼Œåˆ™è¦æä¾›æ•°æ®é“¾æ¥ï¼Œé»˜è®¤ä¸ºç©º</span></span><br><span class="line">                        success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment">//                            showTips("æˆåŠŸåˆ†äº«ç»™æœ‹å‹")</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        cancel: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//åˆ†äº«åˆ°æœ‹å‹åœˆ</span></span><br><span class="line">                    wx.onMenuShareTimeline(&#123;</span><br><span class="line">                        title: shareObj.share_title, <span class="comment">// åˆ†äº«æ ‡é¢˜</span></span><br><span class="line">                        desc: shareObj.share_des, <span class="comment">// åˆ†äº«æè¿°</span></span><br><span class="line">                        link: shareObj.share_url, <span class="comment">// åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´</span></span><br><span class="line">                        imgUrl: shareObj.share_img, <span class="comment">// åˆ†äº«å›¾æ ‡</span></span><br><span class="line">                        success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line"></span><br><span class="line">                        &#125;,</span><br><span class="line">                        cancel: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">                            <span class="comment">// showTips("å–æ¶ˆåˆ†äº«åˆ°æœ‹å‹åœˆè¿”å›:" + res);</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                    <span class="comment">//åˆ†äº«ç»™æœ‹å‹</span></span><br><span class="line">                    wx.onMenuShareAppMessage(&#123;</span><br><span class="line">                        title: shareObj.share_title, <span class="comment">// åˆ†äº«æ ‡é¢˜</span></span><br><span class="line">                        desc: shareObj.share_des, <span class="comment">// åˆ†äº«æè¿°</span></span><br><span class="line">                        link: shareObj.share_url, <span class="comment">// åˆ†äº«é“¾æ¥ï¼Œè¯¥é“¾æ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸å½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´</span></span><br><span class="line">                        imgUrl: shareObj.share_img, <span class="comment">// åˆ†äº«å›¾æ ‡</span></span><br><span class="line">                        type: <span class="string">""</span>, <span class="comment">// åˆ†äº«ç±»å‹,musicã€videoæˆ–linkï¼Œä¸å¡«é»˜è®¤ä¸ºlink</span></span><br><span class="line">                        dataUrl: <span class="string">""</span>, <span class="comment">// å¦‚æœtypeæ˜¯musicæˆ–videoï¼Œåˆ™è¦æä¾›æ•°æ®é“¾æ¥ï¼Œé»˜è®¤ä¸ºç©º</span></span><br><span class="line">                        success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·ç¡®è®¤åˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        cancel: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">                            <span class="comment">// ç”¨æˆ·å–æ¶ˆåˆ†äº«åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¼•ç”¨</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    <span class="comment">//ç¦æ­¢åˆ†äº«</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        prohibitShare();</span><br><span class="line">        <span class="keyword">this</span>.shareWx();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        alert(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    shareWx() &#123;</span><br><span class="line">        <span class="keyword">let</span> shareObj = &#123;</span><br><span class="line">            share_title: <span class="string">"åˆ†äº«æ ‡é¢˜"</span>,</span><br><span class="line">            share_des: <span class="string">"åˆ†äº«æè¿°"</span>,</span><br><span class="line">            share_img: <span class="string">'åˆ†äº«å›¾ç‰‡'</span>,</span><br><span class="line">            share_url: <span class="string">`url`</span></span><br><span class="line">        &#125;</span><br><span class="line">        shareTimer(shareObj)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å¸¸ç”¨å·¥å…·</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
</search>
